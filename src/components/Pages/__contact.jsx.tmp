import { useEffect, useState } from 'react';


import qr from './qr.png'
export const Contact = () => {

    const [formData, setFormData] = useState({
        name: '',
        tagline: '',
        email: '',
        phone: ''
    })
    const [cards, setCards] = useState([]);


    return (
        <div className="p-12">
            <h2 className='text-2xl mb-8'>Contact</h2>
            <div className="inline-block align-top">
               <BusinessCard
                name="Christoph Schild"
                tagline="Software Engineer"
                email="christoph@schild.tech"
                phone='+15055779730' 
                variant="big"
                />
            </div>
            <div className="w-2/3 inline-block overflow-y-scroll h-96">
                Others who have left their business cards:
                <div className='flex flex-wrap self-stretch gap-4'>
                    {
                        cards.map(card => {
                            return (
                                <>
                                    <BusinessCard name={card.name} tagline={card.tagline} email={card.email} phone={card.phone} />
                                    <br />
                                </>
                                
                            )
                        })
                    }
                </div>
                
            </div>
            <div className="p-4">
                Add Your Business Card:<br />
                <form action="" onSubmit={e => { e.preventDefault(); setCards([...cards, formData]); }}>
                    Name: <input type="text" name="name" value={formData.name} onChange={event => setFormData({ ...formData, name: event.target.value })} /><br />
                    Tagline: <input type="text" name="tagline" value={formData.tagline } onChange={event => setFormData({ ...formData, tagline: event.target.value })} /><br />
                    E-Mail: <input type="email" name="email" value={formData.email}  onChange={event => setFormData({ ...formData, email: event.target.value })} /><br />
                    Phone: <input type="tel" name="phone" value={formData.phone} onChange={event => setFormData({ ...formData, phone: event.target.value })} /><br />
                    <input type="submit" />
                </form>
            </div>
        </div>
    )

}

const BusinessCard = ({ name, tagline, email, phone, variant }) => {
    return (
        <div className={`${variant === 'big' ? 'h-60' : '40'} ${variant === 'big' ? 'w-96' : 'w-64'} border-2 border-black p-4 relative`}>
            <div className="text-lg">
                { name }
            </div>
            <br /><br /><br />
            <div className="text-sm">
                { tagline }
            </div>
            <div className="text-xs bottom-0 absolute w-full">
                <a className="" href={ `tel:${phone}` }>{ phone }</a>
                <a className="" href={`mailto:${email}`}>{ email }</a>
            </div>
        </div>
    )
}

// setFormData({name: '', tagline: '', email: '', phone: ''})